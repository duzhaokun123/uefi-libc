macro(__uefi_compiler_clang lang)
    if ("x${CMAKE_${lang}_SIMULATE_ID}" STREQUAL "xMSVC")
        message(FATAL_ERROR "DO NOT use a fake MSVC clang compiler, use a real(GNU) clang compiler")
    endif ()
    set(CMAKE_${lang}_USING_LINKER_LLD "-fuse-ld=lld")
    set(CMAKE_${lang}_COMPILER_TARGET "@UEFI_TARGET@")
endmacro()